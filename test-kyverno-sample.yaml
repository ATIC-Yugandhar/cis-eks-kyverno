apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: clusterpolicies.kyverno.io
  annotations:
    controller-gen.kubebuilder.io/version: v0.10.0
    helm.sh/resource-policy: keep
    meta.helm.sh/release-name: kyverno
    meta.helm.sh/release-namespace: kyverno
    very-large-annotation: |
      This is a very large annotation that would normally cause issues
      with the 262144 bytes limit in Kubernetes. This annotation contains
      a lot of text that makes the CRD manifest exceed the size limit.
      We need to remove this to ensure successful installation.
spec:
  group: kyverno.io
  scope: Cluster
  names:
    plural: clusterpolicies
    singular: clusterpolicy
    kind: ClusterPolicy
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: policies.kyverno.io
  annotations:
    controller-gen.kubebuilder.io/version: v0.10.0
    helm.sh/resource-policy: keep
    another-large-annotation: |
      Another large annotation that needs to be removed
      to prevent size issues with CRD installation.
spec:
  group: kyverno.io
  scope: Namespaced
  names:
    plural: policies
    singular: policy
    kind: Policy
---
apiVersion: v1
kind: Service
metadata:
  name: kyverno-svc
  annotations:
    service.beta.kubernetes.io/aws-load-balancer-type: nlb
spec:
  selector:
    app: kyverno
  ports:
  - port: 443

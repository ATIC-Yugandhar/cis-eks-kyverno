apiVersion: v1
kind: Pod
metadata:
  name: secure-pod
  namespace: application-ns  # Not using default namespace (CIS 4.5.2)
spec:
  containers:
  - name: nginx
    image: approved-registry.io/nginx:1.21.6     # Using approved registry (CIS 5.1.4)
    securityContext:
      privileged: false     # Not privileged (CIS 4.2.1)
      allowPrivilegeEscalation: false  # Prevents privilege escalation (CIS 4.2.5)
      runAsNonRoot: true    # Run as non-root user (security best practice)
      capabilities:
        drop:
          - ALL            # Drop all capabilities (security best practice)
    resources:              # Adding resource requests and limits (CIS 5.5.1 & 5.5.2)
      requests:
        cpu: "100m"
        memory: "128Mi"
      limits:
        cpu: "200m"
        memory: "256Mi"
  automountServiceAccountToken: false  # Don't auto-mount token (CIS 4.1.6)